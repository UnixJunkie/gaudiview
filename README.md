# GaudiView #

Light interface to explore, view and analyze solutions from [GaudiMM](https://github.com/insilichem/gaudi) and [GOLD](https://www.ccdc.cam.ac.uk/solutions/csd-discovery/components/gold/), inside [UCSF Chimera](http://www.cgl.ucsf.edu/chimera).

## Usage

1. Open up Chimera and launch `Tools> InsiliChem> GaudiView`. Select a YAML-formatted `*.gaudi.output` file, as generated by GaudiMM. It will also display GOLD results if you choose the corresponding `gold.conf` file.
2. Click on the solutions you want to view. `Ctrl` and `shift` click will handle multiple selections. You can also navigate with up and down arrows.
3. The list can be multisorted and filtered. Feel free to experiment.
4. Double-click updates rotamers and mutamers in the protein, if available.
5. If you want to perform some actions on every pose, write a Chimera command and it will be executed every time the selection changes.
6. There's also a simple clustering algorithm!

There's a short tutorial written in the [GaudiMM docs](http://gaudi.readthedocs.io/en/latest/tutorial-visualization.html). Feel free to check it!

## Requirements

* **[UCSF Chimera](http://www.cgl.ucsf.edu/chimera/download.html)**. Main framework.

* **[PyYaml](https://pypi.python.org/pypi/PyYAML) package**. GaudiMM file parsing.

* **[tkintertable](https://pypi.python.org/pypi/tkintertable) package**. Sortable and filterable table.

## Installation

1 - If you don't have Chimera installed, download the [latest stable copy](http://www.cgl.ucsf.edu/chimera/download.html) and install it with:

    chmod +x chimera-*.bin && ./chimera-*.bin

2 - Create a new directory anywhere to host the GaudiView installation files. For example:

    mkdir -p ~/insilichem  # any name is OK

3 - Open a new Chimera instance and click on `Favorites> Add to Favorites/Toolbar`. In this dialog, add the path of the directory you created in step 2 and click save.

4 - Download the [latest version](https://github.com/insilichem/gaudiview/archive/master.zip) of **GaudiView** and place it inside that directory.

    cd ~/insilichem
    wget https://github.com/insilichem/gaudiview/archive/master.zip
    unzip master.zip
    mv gaudiview-master gaudiview

You can also use `git clone` inside `~/insilichem`:

    git clone https://github.com/insilichem/gaudiview.git

5 - Install the dependencies in-place with any Python 2 `pip`:

    pip install -t . tkintertable pyyaml https://github.com/insilichem/libtangram/archive/master.zip


### Alternative A

If `pip` is not available in your system, you can install it with Chimera's own Python:

    wget https://bootstrap.pypa.io/get-pip.py
    chimera --nogui --script get-pip.py # run it twice if it segfaults
    chimera --nogui --script `chimera --root`"/bin/pip install -t . tkintertable pyyaml https://github.com/insilichem/libtangram/archive/master.zip"

### Alternative B

Download [tkintertable](https://pypi.python.org/pypi/tkintertable) source package and extract the `*tar.gz` file. Open Chimera display and click on `Favorites> Command Line`. This will bring in an input field at the bottom of the GUI, in which you need to type the following commands. Press `Enter` after each line.

    cd /path/to/where/tkintertable/was/extracted/
    runscript setup.py install

Repeat with [PyYaml](https://pypi.python.org/pypi/PyYAML) source package and [libtangram](https://github.com/insilichem/libtangram/archive/master.zip).
